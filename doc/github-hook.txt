                           GitHub Hooks
                           ************

Add the following to the nginx server configuration:

	location /github-hook.php {
		alias /home/firehol/web/github-hook.php;
		fastcgi_pass  unix:/var/run/php-fpm.sock;
		include       fastcgi_params;
	}

Under the github repository settings, add a webhook URL:
        http://firehol.org/github-hook.php

The PHP script parses the incoming JSON and creates build instructions
in web/requests which are acted on by a cron-job.

Server configuration
====================
Only repositories and branches that are listed will be built automatically
(since only branches that the scripts understand how to build can be used).

cat - > /etc/firehol-build.conf <<- END
	# Format:
	#   repo branch
	# The same repo may be used multiple times to allow multiple branches
	https://github.com/ktsaou/fireho.git master
	END


Appendix
========
Commit hooks:
  https://help.github.com/articles/post-receive-hooks

Handy for debugging:
  http://requestb.in/

  e.g. curl -X POST -d "fizz=buzz" http://requestb.in/1j5898a1
       firefox http://requestb.in/1j5898a1?inspect
